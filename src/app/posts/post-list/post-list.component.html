<mat-card *ngFor="let post of posts" style="padding: 0; margin: 1em 0">
  <mat-list style="background-color: #efefef; padding-top: 2px">
    <mat-list-item style="height: 52px">
      <img
        mat-list-avatar
        [src]="
          post.postedBy.photoUrl
            ? post.postedBy.photoUrl
            : '../../../assets/user.png'
        "
        alt=""
      />

      <h5
        [routerLink]="'/users/' + post.postedBy._id"
        style="cursor: pointer"
        mat-line
      >
        {{ post.postedBy.name }}
      </h5>
      <span style="font-size: 12px" mat-line>{{ post.createdAt | date }}</span>

      <div class="flex-spacer"></div>
      <button
        *ngIf="currentUser._id === post.postedBy._id"
        color="accent"
        mat-icon-button
        (click)="this.deletePost(post)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </mat-list-item>
  </mat-list>
  <mat-divider></mat-divider>
  <mat-card-content style="padding: 16px; margin-bottom: 0">
    <div>{{ post.text }}</div>
  </mat-card-content>
  <img
    style="
      max-height: 320px;
      object-fit: cover;
      padding: 0 16px;
      margin-bottom: -5px;
      max-width: 100%;
    "
    *ngIf="post.photoUrl"
    mat-card-image
    [src]="post.photoUrl"
    alt=""
  />
  <mat-divider></mat-divider>
  <mat-card-actions style="padding: 8px 16px; margin: 0">
    <button color="accent" mat-icon-button>
      <mat-icon>favorite_border</mat-icon>
    </button>
    <button color="accent" mat-icon-button>
      <mat-icon>comments</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
